<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Heap spraying: Experiment 5.6.l</title>
    <script>
        const size = 0x10000000; // search for 1000c000
        console.log("Start : 0x" + size.toString(16));
        const aauHeap = [];
        console.log("aauHeap created");
        for (let i = 1; i <= 200; i++) {
            setTimeout(function () {
                console.log("new auHeap allocated");
                let auHeap = new Uint8Array(size);
                aauHeap.push(auHeap);
                auHeap.forEach((element, index) => {
                    auHeap[index] = 0xAA;
                    console.log("filling 0x"+ auHeap[index].toString(16));
                });
                console.log("Totally allocated 0x" + (i * (size)).toString(16) + " bytes. Loop: " + i);
            }, 100 );
        }
    </script>
</head>
<body><h1>Heap spraying. Experiment 5.6.l</h1>
</body>
</html>
