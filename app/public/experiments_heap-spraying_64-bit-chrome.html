<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Heap spraying of 64-bit Chrome</title>
    <script>
        const size = 0x1000;
        console.log("Start : 0x" + size.toString(16));
        const aauHeap = [];
        console.log("aauHeap created");
        for (let i = 1; i < 15000; i++) {
            setTimeout(function () {
                console.log("new aauHeap allocated");
                let auHeap = new Uint8Array(size);
                aauHeap.push(auHeap);
                auHeap.forEach(element => {
                    console.log("filling");
                    element = 0xAA;
                    });
                console.log("Totally allocated 0x" + (i * (size)).toString(16) + " bytes. Loop: " + i);
            }, 7 );
        }
    </script>

</head>
<body><h1>Heap spraying</h1>
</body>
</html>